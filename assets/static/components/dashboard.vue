<template>
  <div id="dashboard_main">

    <div class="m-content">
      <div class="row">
        <div class="col-sm-12">
          <div class="m-portlet m-portlet--mobile" style="margin-bottom: 5px;">
            <div class="m-portlet__body" style="padding: 5px;">
                <div class="row m-row--no-padding m-row--col-separator-xl">
              <div class="col-md-12 col-lg-6 col-xl-3">
                <!--begin::Total Profit-->
                <div class="m-widget24">           
                    <div class="m-widget24__item">
                        <h4 class="m-widget24__title">
                            Total SIMs
                        </h4><br>
                        <span class="m-widget24__desc">
                            SIMs for routers
                        </span>
                        <span class="m-widget24__stats m--font-brand">
                            78 
                        </span>   
                    </div>              
                </div>
                <!--end::Total Profit-->
              </div>
              <div class="col-md-12 col-lg-6 col-xl-3">
                <!--begin::New Feedbacks-->
                <div class="m-widget24">
                   <div class="m-widget24__item">
                        <h4 class="m-widget24__title">
                            NVR
                        </h4><br>
                        <span class="m-widget24__desc">
                            All connected NVRs
                        </span>
                        <span class="m-widget24__stats m--font-info">
                            1349
                        </span>   
                    </div>    
                </div>
                <!--end::New Feedbacks--> 
              </div>
              <div class="col-md-12 col-lg-6 col-xl-3">
                <!--begin::New Orders-->
                <div class="m-widget24">
                  <div class="m-widget24__item">
                        <h4 class="m-widget24__title">
                            Total Routers
                        </h4><br>
                        <span class="m-widget24__desc">
                            Routers count
                        </span>
                        <span class="m-widget24__stats m--font-danger">
                            567
                        </span>   
                    </div>    
                </div>
                <!--end::New Orders--> 
              </div>
              <div class="col-md-12 col-lg-6 col-xl-3">
                <!--begin::New Users-->
                <div class="m-widget24">
                   <div class="m-widget24__item">
                        <h4 class="m-widget24__title">
                            Total Sites
                        </h4><br>
                        <span class="m-widget24__desc">
                            Place of deployment
                        </span>
                        <span class="m-widget24__stats m--font-success">
                            276 
                        </span>   
                    </div>    
                </div>
                <!--end::New Users--> 
              </div>
            </div>
            </div>
          </div>
        </div>

        <div class="col-sm-8" style="padding-right: 5px">
          <div class="m-portlet m-portlet--mobile" style="margin-bottom: 5px;">
            <div class="m-portlet__body" style="padding: 5px;">
              <div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
            </div>
          </div>
        </div>
        <div class="col-sm-4" style="padding-left: 0">
          <div class="m-portlet m-portlet--mobile" style="margin-bottom: 5px;">
            <div class="m-portlet__head">
              <div class="m-portlet__head-caption">
                <div class="m-portlet__head-title">
                  <h3 class="m-portlet__head-text">
                    User activities
                  </h3>
                </div>
              </div>
            </div>
            <div class="m-portlet__body" >
              <div class="m-scrollable m-scrollable--track m-scroller ps ps--active-y" data-scrollable="true" style="height: 295px; overflow: hidden;">
                  <div class="m-demo__preview">
                    <div class="m-list-timeline">
                        <div class="m-list-timeline__items">
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                <span class="m-list-timeline__text">Rule: Daily SMS Alert was updated in commands
                                </span>
                                <span class="m-list-timeline__time">2018-06-10 10:20 PM</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--danger"></span>
                                <span class="m-list-timeline__text">Login </span>
                                <span class="m-list-timeline__time">2018-06-10 10:20 PM</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--warning"></span>
                                <span class="m-list-timeline__text">SMS: <span class="bold_text">Restart</span> command was sent to <span>+353867802458</span>
                                </span>
                                <span class="m-list-timeline__time">2018-06-10 10:20 PM</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--primary"></span>
                                <span class="m-list-timeline__text">Account details of junaid@evercam.io was updated.
                                </span>
                                <span class="m-list-timeline__time">2018-06-10 10:20 PM</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--brand"></span>
                                <span class="m-list-timeline__text">Logout</span>
                                <span class="m-list-timeline__time">2018-06-10 10:20 PM</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                <span class="m-list-timeline__text">SMS: Status command was sent to +353860418034
                                </span>
                                <span class="m-list-timeline__time">2018-06-10 10:20 PM</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                <span class="m-list-timeline__text">SMS: Status command was sent to +353860418034
                                </span>
                                <span class="m-list-timeline__time">2018-06-10 10:20 PM</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                <span class="m-list-timeline__text">SMS: Status command was sent to +353860418034
                                </span>
                                <span class="m-list-timeline__time">2018-06-10 10:20 PM</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                <span class="m-list-timeline__text">SMS: Status command was sent to +353860418034
                                </span>
                                <span class="m-list-timeline__time">2018-06-10 10:20 PM</span>
                            </div>
                            <div class="m-list-timeline__item">
                                <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                <span class="m-list-timeline__text">SMS: Status command was sent to +353860418034
                                </span>
                                <span class="m-list-timeline__time">2018-06-10 10:20 PM</span>
                            </div>
                        </div>
                    </div>
                  </div>
                </div>
            </div>
          </div>
        </div>











        <div class="col-sm-12" >
          <!--begin:: Widgets/Sales States-->
          <div class="m-portlet m-portlet--full-height ">
            
            <div class="m-portlet__head">
              <div class="m-portlet__head-caption">
                <div class="m-portlet__head-title">
                  <h3 class="m-portlet__head-text">
                    Qucik Overview SIMs
                  </h3>
                </div>
              </div>
            </div>
            <div class="m-portlet__body" style="padding: 15px">
              <table class="table table-striped  table-hover table-bordered datatable display nowrap" cellspacing="0" width="100%" id="sms_summary">
                  <thead>
                    <tr>
                      <td>Number</td>
                      <td>Name</td>
                      <td>Last SMS</td>
                      <td>Last SMS DateTime</td>
                      <td>Bill Date</td>
                      <td>SMS since Last bill</td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>+447365269083</td>
                      <td>Cromer Road UK </td>
                      <td>testing message received. </td>
                      <td>25/10/2018 07:20:03   </td>
                      <td>05/10/2018  </td>
                      <td>10 </td>
                    </tr>
                    <tr>
                      <td>+447365269083</td>
                      <td>Cromer Road UK </td>
                      <td>testing message received. </td>
                      <td>25/10/2018 07:20:03   </td>
                      <td>05/10/2018  </td>
                      <td>10 </td>
                    </tr>
                    <tr>
                      <td>+447365269083</td>
                      <td>Cromer Road UK </td>
                      <td>testing message received. </td>
                      <td>25/10/2018 07:20:03   </td>
                      <td>05/10/2018  </td>
                      <td>10 </td>
                    </tr>
                  </tbody>
              </table>
            </div>
          </div>
          <!--end:: Widgets/Sales States-->  
        </div>
      </div>
    </div>
  
</div>
</template>
<script>
module.exports = {
  name: 'dashboard',
  data: function(){
    return{
    }
  },
  methods: {
    init_dattable: function(){
      $("#sms_summary").DataTable({
        autoWidth: true,
        info: false,
        bPaginate: false,
        lengthChange: false,
        scrollX: true,
        colReorder: true,
        stateSave:  true
      });
    },
    init_chart: function(){
      Highcharts.chart('container', {
          chart: {
            type: 'column'
          },
          credits: {
            enabled: false
          },
          title: {
            text: 'Last Week SMS Overview'
          },
          subtitle: {
              text: ''
          },
          xAxis: {
            categories: [
              'Nov-01',
              'Nov-02',
              'Nov-03',
              'Nov-04',
              'Nov-05',
              'Nov-06',
              'Nov-07'
            ],
            crosshair: true
          },
          yAxis: {
            min: 0,
            title: {
              text: 'Rainfall (mm)'
            }
          },
          tooltip: {
            headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
            pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                '<td style="padding:0"><b>{point.y:1f} </b></td></tr>',
            footerFormat: '</table>',
            shared: true,
            useHTML: true
          },
          plotOptions: {
            column: {
              pointPadding: 0.2,
              borderWidth: 0
            }
          },
          series: [{
            name: 'Delivered',
            data: [49, 71, 106, 129, 144, 176, 135]
          }, {
            name: 'Received',
            data: [83, 78, 98, 93, 106, 84, 105]
          }, {
            name: 'Pending',
            data: [83, 78, 98, 93, 106, 84, 105]
          }]
      });
    },
    select_menu_link: function(){
      $("li").removeClass(" m-menu__item--active");
      $(".dashboard").addClass(" m-menu__item--active");
    }
  },
  mounted(){
    this.select_menu_link();
    this.init_chart();
    this.init_chart();
    this.init_dattable();
  }
}
</script>

<style lang="scss">
</style>
